'use strict';
Object.defineProperty(exports, '__esModule', { value: !0 });
var r = null, i = !1, o = 3, a = -1, l = -1, u = !1, c = !1;
function s() {
    if (!u) {
        var e = r.expirationTime;
        c ? T() : c = !0, E(p, e);
    }
}
function f() {
    var e = r, t = r.next;
    if (r === t)
        r = null;
    else {
        var n = r.previous;
        r = n.next = t, t.previous = n;
    }
    e.next = e.previous = null, n = e.callback, t = e.expirationTime, e = e.priorityLevel;
    var i = o, a = l;
    o = e, l = t;
    try {
        var u = n();
    } finally {
        o = i, l = a;
    }
    if ('function' == typeof u)
        if (u = {
                callback: u,
                priorityLevel: e,
                expirationTime: t,
                next: null,
                previous: null
            }, null === r)
            r = u.next = u.previous = u;
        else {
            n = null, e = r;
            do {
                if (e.expirationTime >= t) {
                    n = e;
                    break;
                }
                e = e.next;
            } while (e !== r);
            null === n ? n = r : n === r && (r = u, s()), (t = n.previous).next = n.previous = u, u.next = n, u.previous = t;
        }
}
function d() {
    if (-1 === a && null !== r && 1 === r.priorityLevel) {
        u = !0;
        try {
            do {
                f();
            } while (null !== r && 1 === r.priorityLevel);
        } finally {
            u = !1, null !== r ? s() : c = !1;
        }
    }
}
function p(e) {
    u = !0;
    var n = i;
    i = e;
    try {
        if (e)
            for (; null !== r;) {
                var o = exports.unstable_now();
                if (!(r.expirationTime <= o))
                    break;
                do {
                    f();
                } while (null !== r && r.expirationTime <= o);
            }
        else if (null !== r)
            do {
                f();
            } while (null !== r && !_());
    } finally {
        u = !1, i = n, null !== r ? s() : c = !1, d();
    }
}
var m, h, v = Date, y = 'function' == typeof setTimeout ? setTimeout : void 0, g = 'function' == typeof clearTimeout ? clearTimeout : void 0, b = 'function' == typeof requestAnimationFrame ? requestAnimationFrame : void 0, x = 'function' == typeof cancelAnimationFrame ? cancelAnimationFrame : void 0;
function k(e) {
    m = b(function (t) {
        g(h), e(t);
    }), h = y(function () {
        x(m), e(exports.unstable_now());
    }, 100);
}
if ('object' == typeof performance && 'function' == typeof performance.now) {
    var w = performance;
    exports.unstable_now = function () {
        return w.now();
    };
} else
    exports.unstable_now = function () {
        return v.now();
    };
var E, T, _, S = null;
if ('undefined' != typeof window ? S = window : 'undefined' != typeof global && (S = global), S && S._schedMock) {
    var C = S._schedMock;
    E = C[0], T = C[1], _ = C[2], exports.unstable_now = C[3];
} else if ('undefined' == typeof window || 'function' != typeof MessageChannel) {
    var P = null, N = function (e) {
            if (null !== P)
                try {
                    P(e);
                } finally {
                    P = null;
                }
        };
    E = function (e) {
        null !== P ? setTimeout(E, 0, e) : (P = e, setTimeout(N, 0, !1));
    }, T = function () {
        P = null;
    }, _ = function () {
        return !1;
    };
} else {
    'undefined' != typeof console && ('function' != typeof b && console.error('This browser doesn\'t support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills'), 'function' != typeof x && console.error('This browser doesn\'t support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills'));
    var O = null, D = !1, I = -1, M = !1, R = !1, U = 0, F = 33, A = 33;
    _ = function () {
        return U <= exports.unstable_now();
    };
    var z = new MessageChannel(), L = z.port2;
    z.port1.onmessage = function () {
        D = !1;
        var e = O, n = I;
        O = null, I = -1;
        var r = exports.unstable_now(), i = !1;
        if (0 >= U - r) {
            if (!(-1 !== n && n <= r))
                return M || (M = !0, k(j)), O = e, void (I = n);
            i = !0;
        }
        if (null !== e) {
            R = !0;
            try {
                e(i);
            } finally {
                R = !1;
            }
        }
    };
    var j = function (e) {
        if (null !== O) {
            k(j);
            var t = e - U + A;
            t < A && F < A ? (8 > t && (t = 8), A = t < F ? F : t) : F = t, U = e + A, D || (D = !0, L.postMessage(void 0));
        } else
            M = !1;
    };
    E = function (e, t) {
        O = e, I = t, R || 0 > t ? L.postMessage(void 0) : M || (M = !0, k(j));
    }, T = function () {
        O = null, D = !1, I = -1;
    };
}
exports.unstable_ImmediatePriority = 1, exports.unstable_UserBlockingPriority = 2, exports.unstable_NormalPriority = 3, exports.unstable_IdlePriority = 5, exports.unstable_LowPriority = 4, exports.unstable_runWithPriority = function (e, n) {
    switch (e) {
    case 1:
    case 2:
    case 3:
    case 4:
    case 5:
        break;
    default:
        e = 3;
    }
    var r = o, i = a;
    o = e, a = exports.unstable_now();
    try {
        return n();
    } finally {
        o = r, a = i, d();
    }
}, exports.unstable_next = function (e) {
    switch (o) {
    case 1:
    case 2:
    case 3:
        var n = 3;
        break;
    default:
        n = o;
    }
    var r = o, i = a;
    o = n, a = exports.unstable_now();
    try {
        return e();
    } finally {
        o = r, a = i, d();
    }
}, exports.unstable_scheduleCallback = function (e, n) {
    var i = -1 !== a ? a : exports.unstable_now();
    if ('object' == typeof n && null !== n && 'number' == typeof n.timeout)
        n = i + n.timeout;
    else
        switch (o) {
        case 1:
            n = i + -1;
            break;
        case 2:
            n = i + 250;
            break;
        case 5:
            n = i + 1073741823;
            break;
        case 4:
            n = i + 10000;
            break;
        default:
            n = i + 5000;
        }
    if (e = {
            callback: e,
            priorityLevel: o,
            expirationTime: n,
            next: null,
            previous: null
        }, null === r)
        r = e.next = e.previous = e, s();
    else {
        i = null;
        var l = r;
        do {
            if (l.expirationTime > n) {
                i = l;
                break;
            }
            l = l.next;
        } while (l !== r);
        null === i ? i = r : i === r && (r = e, s()), (n = i.previous).next = i.previous = e, e.next = i, e.previous = n;
    }
    return e;
}, exports.unstable_cancelCallback = function (e) {
    var t = e.next;
    if (null !== t) {
        if (t === e)
            r = null;
        else {
            e === r && (r = t);
            var n = e.previous;
            n.next = t, t.previous = n;
        }
        e.next = e.previous = null;
    }
}, exports.unstable_wrapCallback = function (e) {
    var n = o;
    return function () {
        var r = o, i = a;
        o = n, a = exports.unstable_now();
        try {
            return e.apply(this, arguments);
        } finally {
            o = r, a = i, d();
        }
    };
}, exports.unstable_getCurrentPriorityLevel = function () {
    return o;
}, exports.unstable_shouldYield = function () {
    return !i && (null !== r && r.expirationTime < l || _());
}, exports.unstable_continueExecution = function () {
    null !== r && s();
}, exports.unstable_pauseExecution = function () {
}, exports.unstable_getFirstCallbackNode = function () {
    return r;
};