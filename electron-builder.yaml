---
appId: com.lightcord.app
productName: Lightcord
directories:
  app: distApp
  output: builds
# This is to get around the bug in electron-builder with not including nested node_modules.
afterPack: "./afterpack.js"
win:
  target:
  - target: zip
    arch:
    - ia32
  - target: portable
    arch:
    - ia32
  icon: app.ico
  publisherName: Lightcord
  files:
  - "**/*"
  - "!**/*.ts"
  - "!**/*.so"
  - "!**/*.4"
  - "!**/*.dylib"
  - "!**/*_darwin.node"
  - "!**/*_linux.node"
  # This gets passed to the afterPack hook to help recreate the asar file. This must be a single string.
  asarUnpack: 
  - "**/*.node"
  - "**/*.dll"
linux:
  target:
  - zip
  - AppImage
  icon: discord.png
  files:
  - "**/*"
  - "!**/*.ts"
  - "!**/*.dll"
  - "!**/*.dylib"
  - "!**/discord*.node"
  - "**/*_linux.node"
  asarUnpack: 
  - "**/*_linux.node"
  - "**/*.so.4"
mac:
  target:
  - zip
  icon: app_icon_darwin.icns
  files:
  - "**/*"
  - "!**/*.ts"
  - "!**/*.dll"
  - "!**/*.so"
  - "!**/*.4"
  - "!**/discord*.node"
  - "**/*_darwin.node"
  asarUnpack:
  - "**/*_linux.node"
  - "**/*.dylib"

